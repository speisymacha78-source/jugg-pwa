/* =========================
   Base / Layout
   ========================= */
:root {
  color-scheme: dark;
}

html, body {
  margin: 0;
  padding: 0;
  background: #000;
  color: #fff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

#root {
  width: 100%;
}

.wrap {
  width: 100%;
  max-width: 520px;
  margin: 0 auto;
  padding: 12px;
  box-sizing: border-box;
}

.wrap.dark {
  background: #000;
  color: #fff;
}

/* =========================
   Header
   ========================= */
.header {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 8px;
  padding: 10px 0 12px;
}

.headerSide {
  display: flex;
  gap: 8px;
  align-items: center;
}

.headerSide.right {
  justify-content: flex-end;
}

.headerTitle {
  font-weight: 700;
  font-size: 16px;
  text-align: center;
}

/* =========================
   Common UI
   ========================= */
.card {
  background: #0b0b0b;
  border: 1px solid #1a1a1a;
  border-radius: 14px;
  padding: 12px;
  margin: 10px 0;
  box-shadow: 0 8px 18px rgba(0,0,0,0.45);
}

.title {
  font-weight: 700;
  font-size: 14px;
}

.muted {
  color: rgba(255,255,255,0.65);
  font-size: 12px;
}

.mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.hr {
  border: none;
  border-top: 1px solid rgba(255,255,255,0.10);
  margin: 10px 0;
}

.row {
  display: flex;
  gap: 10px;
  align-items: center;
}

.row.between {
  justify-content: space-between;
}

.label {
  color: rgba(255,255,255,0.70);
  font-size: 12px;
}

.input, select.input, .textarea {
  width: 100%;
  background: #111;
  color: #fff;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 10px 10px;
  font-size: 14px;
  box-sizing: border-box;
  outline: none;
}

.textarea {
  min-height: 84px;
  resize: vertical;
}

.inlineInputs {
  display: flex;
  gap: 10px;
  width: 100%;
}

.numBox {
  flex: 1;
}

.numLabel {
  font-size: 12px;
  color: rgba(255,255,255,0.70);
  margin-bottom: 6px;
}

/* =========================
   Buttons
   ========================= */
.btn {
  background: #141414;
  color: #fff;
  border: 1px solid #2a2a2a;
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
}

.btn:active {
  transform: translateY(1px);
}

.btn.primary {
  background: #1f3bff;
  border-color: #1f3bff;
}

.btn.danger {
  background: #b91c1c;
  border-color: #b91c1c;
}

/* =========================
   Calendar (minimal)
   ========================= */
.grid7 {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
  margin-top: 10px;
}

.dow {
  font-size: 11px;
  color: rgba(255,255,255,0.65);
  text-align: center;
}

.cell {
  background: #111;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 8px 6px;
  color: #fff;
  cursor: pointer;
  min-height: 56px;
}

.cell.blank {
  opacity: 0.30;
  cursor: default;
}

.cell.today {
  border-color: rgba(255,255,255,0.65);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.18) inset;
}

.cell.selected {
  border-color: rgba(120, 160, 255, 0.95);
  box-shadow: 0 0 0 2px rgba(120, 160, 255, 0.22) inset;
}

.cellDay {
  font-size: 12px;
  font-weight: 800;
  text-align: left;
}

.cellDot {
  margin-top: 6px;
  font-size: 11px;
  color: rgba(255,255,255,0.75);
}

/* =========================
   Counter Screen (UPDATED)
   ========================= */
.counterCard {
  background: #000;
  border: 1px solid #222;
  padding: 12px;
}

.counterCard * {
  font-size: 14px;
  color: #fff;
}

.counterTop {
  padding: 6px 0 10px;
}

.counterTopLine {
  display: flex;
  justify-content: center;
  align-items: center;
}

.counterTopMono {
  font-size: 18px;      /* 20以下 */
  font-weight: 900;
  letter-spacing: 0.5px;
}

.counterMid {
  padding: 8px 0;
}

.counterMidRow {
  display: flex;
  gap: 10px;
  justify-content: space-between;
  align-items: stretch;
  margin-bottom: 8px;
}

.midItem {
  flex: 1;
  background: #0b0b0b;
  border: 1px solid #1f1f1f;
  border-radius: 12px;
  padding: 10px 10px;
  text-align: center;
}

.midLabel {
  font-size: 12px;
  font-weight: 800;
  opacity: 0.95;
}

.midValue {
  font-size: 18px;    /* 20以下 */
  font-weight: 900;
  margin-top: 6px;
}

.midOdds {
  font-size: 12px;
  margin-top: 4px;
  color: #fff;
  opacity: 0.90;
}

.smallRow {
  gap: 10px;
}

.smallItem {
  flex: 1;
  background: #070707;
  border: 1px solid #1b1b1b;
  border-radius: 12px;
  padding: 8px 10px;
}

.smallKey {
  font-size: 11px;
  font-weight: 900;
}

.smallVal {
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255,255,255,0.88);
}

/* Colors */
.pink { color: #ff4fa1; }     /* BB */
.yellow { color: #ffd400; }   /* RB */
.grape { color: #7CFF5B; }    /* ぶどう(黄緑) */
.cherry { color: #ff3b30; }   /* チェリー(赤) */
.white { color: #ffffff; }

.btnGrid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 8px;
}

.bigBtn {
  padding: 16px 12px;
  font-size: 16px;      /* 20以下 */
  font-weight: 900;
  border-radius: 14px;
  border: none;
}

.bigBtn.bb {
  background: #ff4fa1;
  color: #000;
}

.bigBtn.rb {
  background: #ffd400;
  color: #000;
}

.bigBtn.grape {
  background: #7CFF5B;
  color: #000;
}

.bigBtn.cherry {
  background: #ff3b30;
  color: #fff;
}

/* =========================
   Flash overlay (NEW)
   ========================= */
.flashOverlay {
  position: fixed;
  inset: 0;
  z-index: 99999;
  opacity: 0.50;              /* ★濃くする（おすすめ 0.45〜0.60） */
  pointer-events: none;
  animation: flashOnce 120ms ease-out;  /* ★少し長く */
}

@keyframes flashOnce {
  from { opacity: 0.65; }     /* ★押した瞬間はもっと濃く */
  to   { opacity: 0; }
}


/* =========================
   Modal
   ========================= */
.modalBack {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 14px;
  z-index: 9999;
}

.modalCard {
  width: 100%;
  max-width: 520px;
  background: #0b0b0b;
  border: 1px solid #222;
  border-radius: 16px;
  padding: 12px;
}

.modalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.modalTitle {
  font-weight: 900;
  font-size: 14px;
}

.modalBody {
  padding-bottom: 6px;
}

.modalBtns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.modalBtn {
  padding: 14px 12px;
  font-size: 15px;
  font-weight: 900;
  border-radius: 14px;
  border: 1px solid #2a2a2a;
  background: #121212;
}

.modalBtn.danger {
  background: #b91c1c;
  border-color: #b91c1c;
}

/* =========================
   Judge bars
   ========================= */
.titleRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.bars {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.barRow {
  display: grid;
  grid-template-columns: 60px 1fr 56px;
  gap: 8px;
  align-items: center;
}

.barLabel {
  font-size: 12px;
  color: rgba(255,255,255,0.75);
}

.barTrack {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.10);
  overflow: hidden;
}

.barFill {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.85);
}

.barVal {
  font-size: 12px;
  text-align: right;
  color: rgba(255,255,255,0.85);
}

/* =========================
   Judge key-values
   ========================= */
.kv {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.kvRow {
  display: grid;
  grid-template-columns: 110px 1fr;
  gap: 8px;
  align-items: center;
}

.kvKey {
  font-size: 12px;
  color: rgba(255,255,255,0.70);
}

.kvVal {
  font-size: 14px;
  font-weight: 800;
}

.kvVal.big {
  font-size: 18px;
  font-weight: 900;
}

/* =========================
   Small screen tweaks
   ========================= */
@media (max-width: 380px) {
  .wrap {
    padding: 10px;
  }
  .bigBtn {
    padding: 14px 10px;
    font-size: 15px;
  }
  .counterTopMono {
    font-size: 17px;
  }
  .midValue {
    font-size: 17px;
  }
}
